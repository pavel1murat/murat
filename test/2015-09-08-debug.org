root [3] d = TAnaDump::Instance()
(class TAnaDump*)0x12f9fe00
root [4] d->printKalRepCollection("TrkPatRecDem")
--------------------------------------------------------------------------------------------------------------------------------------
  TrkID       Address    N  NA      P    sigma(p)    pT     costh    T0      T0Err   Omega      D0       Z0      Phi0   TanDip    Chi2    FCons
--------------------------------------------------------------------------------------------------------------------------------------
   -1       0x44b2af90  58  57 -103.100  0.12600  88.030   0.5205 983.198  0.4543  0.00345  -13.154 -242.164   2.1404  0.6097   77.843  1.165e-02
root [5] d->printKalRepCollection("TrkPatRecDmm")
--------------------------------------------------------------------------------------------------------------------------------------
  TrkID       Address    N  NA      P    sigma(p)    pT     costh    T0      T0Err   Omega      D0       Z0      Phi0   TanDip    Chi2    FCons
--------------------------------------------------------------------------------------------------------------------------------------
   -1       0x44c44030  58  58 -103.626  0.25037  88.837   0.5148 982.713  0.5493  0.00342  -23.133 -251.914   2.1319  0.6005   78.986  1.183e-02
root [6] d->printKalRepCollection("CalPatRecDem")
--------------------------------------------------------------------------------------------------------------------------------------
  TrkID       Address    N  NA      P    sigma(p)    pT     costh    T0      T0Err   Omega      D0       Z0      Phi0   TanDip    Chi2    FCons
--------------------------------------------------------------------------------------------------------------------------------------
   -1       0x44af5dc0  59  46 -103.047  0.11964  87.855   0.5226 983.999  0.4954  0.00346  -12.240 -239.486   2.1394  0.6130   70.911  2.560e-03
root [7] d->printKalRepCollection("CalPatRecDmm")
--------------------------------------------------------------------------------------------------------------------------------------
  TrkID       Address    N  NA      P    sigma(p)    pT     costh    T0      T0Err   Omega      D0       Z0      Phi0   TanDip    Chi2    FCons
--------------------------------------------------------------------------------------------------------------------------------------
   -1       0x44d9fcd0  59  36 -103.810  0.23544  88.270   0.5263 981.103  0.5287  0.00344  -17.301 -232.591   2.1369  0.6190   35.588  2.611e-01
root [8] d->printKalRepCollection("MergePatRecDem")
--------------------------------------------------------------------------------------------------------------------------------------
  TrkID       Address    N  NA      P    sigma(p)    pT     costh    T0      T0Err   Omega      D0       Z0      Phi0   TanDip    Chi2    FCons
--------------------------------------------------------------------------------------------------------------------------------------
   -1       0x44b2af90  58  57 -103.100  0.12600  88.030   0.5205 983.198  0.4543  0.00345  -13.154 -242.164   2.1404  0.6097   77.843  1.165e-02
root [9] d->printKalRepCollection("MergePatRecDmm")
--------------------------------------------------------------------------------------------------------------------------------------
  TrkID       Address    N  NA      P    sigma(p)    pT     costh    T0      T0Err   Omega      D0       Z0      Phi0   TanDip    Chi2    FCons
--------------------------------------------------------------------------------------------------------------------------------------
   -1       0x44d9fcd0  59  36 -103.810  0.23544  88.270   0.5263 981.103  0.5287  0.00344  -17.301 -232.591   2.1369  0.6190   35.588  2.611e-01



>>> trkpatrec electron reco

(gdb) p kalfit
$46 = {_tdef = 0x7fffffff4c60, _krep = 0x2aaad8a1f1d0, _hits = {<std::_Vector_base<mu2e::TrkStrawHit*, std::allocator<mu2e::TrkStrawHit*> >> = {
      _M_impl = {<std::allocator<mu2e::TrkStrawHit*>> = {<__gnu_cxx::new_allocator<mu2e::TrkStrawHit*>> = {<No data fields>}, <No data fields>}, 
        _M_start = 0x2aaad8a1dbe0, _M_finish = 0x2aaad8a1dcd8, _M_end_of_storage = 0x2aaad8a1dce0}}, <No data fields>}, 
  _detinter = {<std::_Vector_base<DetIntersection, std::allocator<DetIntersection> >> = {
      _M_impl = {<std::allocator<DetIntersection>> = {<__gnu_cxx::new_allocator<DetIntersection>> = {<No data fields>}, <No data fields>}, 
        _M_start = 0x2aaad8a1fc80, _M_finish = 0x2aaad8a205e0, _M_end_of_storage = 0x2aaad8a20880}}, <No data fields>}, _fit = {_failure = 0, 
    _success = 1, _string = 0x0, static _nullStr = {static npos = <optimized out>, 
      _M_dataplus = {<std::allocator<char>> = {<__gnu_cxx::new_allocator<char>> = {<No data fields>}, <No data fields>}, 
        _M_p = 0x2aaab5eb27f8 <std::string::_Rep::_S_empty_rep_storage+24> ""}}}, _nt0iter = 0, _nweediter = 0, _nunweediter = 0, _ninter = 0, 
  _decisionMode = 56, _listOfDoublets = {<std::_Vector_base<mu2e::Doublet, std::allocator<mu2e::Doublet> >> = {
      _M_impl = {<std::allocator<mu2e::Doublet>> = {<__gnu_cxx::new_allocator<mu2e::Doublet>> = {<No data fields>}, <No data fields>}, 
        _M_start = 0x0, _M_finish = 0x0, _M_end_of_storage = 0x0}}, <No data fields>}}
(gdb) p kalfit._hits.size()
$47 = 31


>> 2015-09-17: 

event # 5: TrkPatRec:

Breakpoint 8, mu2e::TrkPatRec::produce (this=0x1acf280, event=...) at TrkPatRec/src/TrkPatRec_module.cc:425
 TrkPatRec : event   5
(gdb) 
(gdb) c
Continuing.

Breakpoint 9, mu2e::TrkPatRec::produce (this=0x1acf280, event=...) at TrkPatRec/src/TrkPatRec_module.cc:437
(gdb) p kalfit
$101 = {_tdef = 0x7fffffff4c60, _krep = 0x0, _hits = {<std::_Vector_base<mu2e::TrkStrawHit*, std::allocator<mu2e::TrkStrawHit*> >> = {
      _M_impl = {<std::allocator<mu2e::TrkStrawHit*>> = {<__gnu_cxx::new_allocator<mu2e::TrkStrawHit*>> = {<No data fields>}, <No data fields>}, 
        _M_start = 0x328ecc10, _M_finish = 0x328ecc10, _M_end_of_storage = 0x328ecd10}}, <No data fields>}, 
  _detinter = {<std::_Vector_base<DetIntersection, std::allocator<DetIntersection> >> = {
      _M_impl = {<std::allocator<DetIntersection>> = {<__gnu_cxx::new_allocator<DetIntersection>> = {<No data fields>}, <No data fields>}, 
        _M_start = 0x328eecb0, _M_finish = 0x328ef610, _M_end_of_storage = 0x328ef8b0}}, <No data fields>}, _fit = {_failure = 0, _success = 1, 
    _string = 0x0, static _nullStr = {static npos = <optimized out>, 
      _M_dataplus = {<std::allocator<char>> = {<__gnu_cxx::new_allocator<char>> = {<No data fields>}, <No data fields>}, 
        _M_p = 0x2aaab5eb27f8 <std::string::_Rep::_S_empty_rep_storage+24> ""}}}, _nt0iter = 0, _nweediter = 0, _nunweediter = 0, _ninter = 0, 
  _decisionMode = 56, _listOfDoublets = {<std::_Vector_base<mu2e::Doublet, std::allocator<mu2e::Doublet> >> = {
      _M_impl = {<std::allocator<mu2e::Doublet>> = {<__gnu_cxx::new_allocator<mu2e::Doublet>> = {<No data fields>}, <No data fields>}, 
        _M_start = 0x0, _M_finish = 0x0, _M_end_of_storage = 0x0}}, <No data fields>}}


>> MergePatRec: CPR is the best 

(gdb) p *cpr
$105 = (const KalRep &) @0x329d2ec0: {<TrkRep> = {<TrkFitStatus> = {_vptr.TrkFitStatus = 0x2aaabd7b4590 <vtable for KalRep+16>, 
      _history = {<std::_Vector_base<TrkHistory, std::allocator<TrkHistory> >> = {
          _M_impl = {<std::allocator<TrkHistory>> = {<__gnu_cxx::new_allocator<TrkHistory>> = {<No data fields>}, <No data fields>}, 
            _M_start = 0x32a296f0, _M_finish = 0x32a29720, _M_end_of_storage = 0x32a29720}}, <No data fields>}, _fitValid = true, 
      _fitCurrent = true, _is2d = false, _multScat = true}, <TrkFit> = {<TrkAbsFit> = {
        _vptr.TrkAbsFit = 0x2aaabd7b46f8 <vtable for KalRep+376>}, <No data fields>}, <TrkHitOnTrkUpdater> = {
      _vptr.TrkHitOnTrkUpdater = 0x2aaabd7b47e8 <vtable for KalRep+616>}, _trkt0 = {_t0 = 774.0513177663272, _t0err = 0.37584489908688984}, 
    _flt0 = 20.508056554062772, _tpart = {_type = TrkParticle::e_minus}, _id = {_value = 6, static _maxval = 8}, _hotList = {_M_ptr = 
    0x329ca2d0}}, _maxdist = 0.041885499626854124, _maxfltdif = 0, _niter = 4, _ninter = 0, _ptraj = 0x32a0d370, _reftraj = 0x329fb960, 
  _kalcon = @0x2aaab8243498, _seedtraj = 0x329d2cd0, _stopsite = 0x0, _sites = {<std::_Vector_base<KalSite*, std::allocator<KalSite*> >> = {
      _M_impl = {<std::allocator<KalSite*>> = {<__gnu_cxx::new_allocator<KalSite*>> = {<No data fields>}, <No data fields>}, 
        _M_start = 0x329f7cb0, _M_finish = 0x329f8170, _M_end_of_storage = 0x329f84b0}}, <No data fields>}, _endsites = 0x329d2f78, _siteflag = {
    true, true}, _fitrange = {-1467.8153631934124, 1399.9628218209461}, _hitrange = {1, 150}, _extendable = {true, true}, _chisq = {-1, 
    17.071937038808464}, _refmom = 104.73022528543922, _refmomfltlen = -1464.6299688108918, _charge = -1}



(gdb) p ckr
$143 = {_tdef = 0x7fffffff4920, _krep = 0x3358abb0, _hits = {<std::_Vector_base<mu2e::TrkStrawHit*, std::allocator<mu2e::TrkStrawHit*> >> = {
      _M_impl = {<std::allocator<mu2e::TrkStrawHit*>> = {<__gnu_cxx::new_allocator<mu2e::TrkStrawHit*>> = {<No data fields>}, <No data fields>}, 
        _M_start = 0x3365f460, _M_finish = 0x3365f560, _M_end_of_storage = 0x3365f560}}, <No data fields>}, 
  _detinter = {<std::_Vector_base<DetIntersection, std::allocator<DetIntersection> >> = {
      _M_impl = {<std::allocator<DetIntersection>> = {<__gnu_cxx::new_allocator<DetIntersection>> = {<No data fields>}, <No data fields>}, 
        _M_start = 0x33658360, _M_finish = 0x33658d20, _M_end_of_storage = 0x33658d20}}, <No data fields>}, _fit = {_failure = 0, _success = 1, 
    _string = 0x0, static _nullStr = {static npos = <optimized out>, 
      _M_dataplus = {<std::allocator<char>> = {<__gnu_cxx::new_allocator<char>> = {<No data fields>}, <No data fields>}, 
        _M_p = 0x2aaab5eb27f8 <std::string::_Rep::_S_empty_rep_storage+24> ""}}}, _nt0iter = 0, _nweediter = 0, _nunweediter = 0, _ninter = 0, 
  _decisionMode = -1073741824, _listOfDoublets = {<std::_Vector_base<mu2e::Doublet, std::allocator<mu2e::Doublet> >> = {
      _M_impl = {<std::allocator<mu2e::Doublet>> = {<__gnu_cxx::new_allocator<mu2e::Doublet>> = {<No data fields>}, <No data fields>}, 
        _M_start = 0x33658d30, _M_finish = 0x3365ad10, _M_end_of_storage = 0x3365ad10}}, <No data fields>}}
(gdb) p cpr
$144 = {core_ = {id_ = {processIndex_ = 1, productIndex_ = 9}, transients_ = {itemPtr_ = 0x3358abb0, prodGetter_ = 0x33508cb0}}, key_ = 0}
(gdb) p *cpr
$145 = (const KalRep &) @0x3358abb0: {<TrkRep> = {<TrkFitStatus> = {_vptr.TrkFitStatus = 0x2aaab966e590 <vtable for KalRep+16>, 
      _history = {<std::_Vector_base<TrkHistory, std::allocator<TrkHistory> >> = {
          _M_impl = {<std::allocator<TrkHistory>> = {<__gnu_cxx::new_allocator<TrkHistory>> = {<No data fields>}, <No data fields>}, 
            _M_start = 0x335e13e0, _M_finish = 0x335e1410, _M_end_of_storage = 0x335e1410}}, <No data fields>}, _fitValid = true, 
      _fitCurrent = true, _is2d = false, _multScat = true}, <TrkFit> = {<TrkAbsFit> = {
        _vptr.TrkAbsFit = 0x2aaab966e6f8 <vtable for KalRep+376>}, <No data fields>}, <TrkHitOnTrkUpdater> = {
      _vptr.TrkHitOnTrkUpdater = 0x2aaab966e7e8 <vtable for KalRep+616>}, _trkt0 = {_t0 = 774.0513177663272, _t0err = 0.37584489908688984}, 
    _flt0 = 20.508056554062772, _tpart = {_type = TrkParticle::e_minus}, _id = {_value = 6, static _maxval = 8}, _hotList = {_M_ptr = 
    0x3352ecd0}}, _maxdist = 0.041885499626854124, _maxfltdif = 0, _niter = 4, _ninter = 0, _ptraj = 0x335c5060, _reftraj = 0x335b3650, 
  _kalcon = @0x1d7e238, _seedtraj = 0x3358a9c0, _stopsite = 0x0, _sites = {<std::_Vector_base<KalSite*, std::allocator<KalSite*> >> = {
      _M_impl = {<std::allocator<KalSite*>> = {<__gnu_cxx::new_allocator<KalSite*>> = {<No data fields>}, <No data fields>}, 
        _M_start = 0x335af9a0, _M_finish = 0x335afe60, _M_end_of_storage = 0x335b01a0}}, <No data fields>}, _endsites = 0x3358ac68, _siteflag = {
    true, true}, _fitrange = {-1467.8153631934124, 1399.9628218209461}, _hitrange = {1, 150}, _extendable = {true, true}, _chisq = {-1, 
    17.071937038808464}, _refmom = 104.73022528543922, _refmomfltlen = -1464.6299688108918, _charge = -1}

>>>> now in TrkExtrapol:

(gdb) p krep                           
$147 = (KalRep *) 0x3358abb0                 
                                              --- this is good.

(gdb) p *krep
$148 = {<TrkRep> = {<TrkFitStatus> = {_vptr.TrkFitStatus = 0x2aaab9bc7db0 <vtable for TrkFitStatus+16>, 
      _history = {<std::_Vector_base<TrkHistory, std::allocator<TrkHistory> >> = {
          _M_impl = {<std::allocator<TrkHistory>> = {<__gnu_cxx::new_allocator<TrkHistory>> = {<No data fields>}, <No data fields>}, 
            _M_start = 0x335e13e0, _M_finish = 0x335e1410, _M_end_of_storage = 0x335e1410}}, <No data fields>}, _fitValid = true, 
      _fitCurrent = true, _is2d = false, _multScat = true}, <TrkFit> = {<TrkAbsFit> = {
        _vptr.TrkAbsFit = 0x2aaab9bc77d0 <vtable for TrkAbsFit+16>}, <No data fields>}, <TrkHitOnTrkUpdater> = {
      _vptr.TrkHitOnTrkUpdater = 0x2aaab966e3f0 <vtable for TrkHitOnTrkUpdater+16>}, _trkt0 = {_t0 = 774.0513177663272, 
      _t0err = 0.37584489908688984}, _flt0 = 20.508056554062772, _tpart = {_type = TrkParticle::e_minus}, _id = {_value = 6, 
      static _maxval = 8}, _hotList = {_M_ptr = 0x3352ecd0}}, _maxdist = 0.041885499626854124, _maxfltdif = 0, _niter = 4, _ninter = 0, 
  _ptraj = 0x335c5060, _reftraj = 0x335b3650, _kalcon = @0x1d7e238, _seedtraj = 0x3358a9c0, _stopsite = 0x0, 
  _sites = {<std::_Vector_base<KalSite*, std::allocator<KalSite*> >> = {
      _M_impl = {<std::allocator<KalSite*>> = {<__gnu_cxx::new_allocator<KalSite*>> = {<No data fields>}, <No data fields>}, 
        _M_start = 0x335af9a0, _M_finish = 0x335afe60, _M_end_of_storage = 0x335b01a0}}, <No data fields>}, _endsites = 0x3358ac68, _siteflag = {
    true, true}, _fitrange = {-1467.8153631934124, 1399.9628218209461}, _hitrange = {1, 150}, _extendable = {true, true}, _chisq = {-1, 
    17.071937038808464}, _refmom = 104.73022528543922, _refmomfltlen = -1464.6299688108918, _charge = -1}

